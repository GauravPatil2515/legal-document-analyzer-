<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Legal Document Explainer</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:linear-gradient(135deg,#0f0c29,#1a1a3e,#24243e);color:#e0e0e0;min-height:100vh}
.header{text-align:center;padding:40px 20px 10px}
.header h1{font-size:2.2em;color:#f0d9a0;letter-spacing:1px}
.header h1 span{font-size:.6em;display:block;color:#8a8aad;font-weight:400;margin-top:6px;letter-spacing:0}
.badge{display:inline-block;background:linear-gradient(135deg,#e8d5b7,#c9a96e);color:#1a1a2e;padding:4px 14px;border-radius:20px;font-size:12px;font-weight:600;margin-top:10px}
.container{max-width:800px;margin:20px auto;padding:0 20px 40px}
.card{background:rgba(22,33,62,.7);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;margin-bottom:20px;backdrop-filter:blur(10px)}
.tabs{display:flex;gap:0;margin-bottom:20px;background:rgba(15,12,41,.5);border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.tab{flex:1;padding:12px;text-align:center;cursor:pointer;font-size:14px;font-weight:600;color:#8a8aad;transition:all .3s}
.tab.active{background:linear-gradient(135deg,#e8d5b7,#c9a96e);color:#1a1a2e}
.tab:hover:not(.active){background:rgba(232,213,183,.1);color:#e8d5b7}
.tab-icon{font-size:18px;display:block;margin-bottom:3px}
.panel{display:none}
.panel.active{display:block}
textarea{width:100%;height:200px;background:rgba(15,12,41,.6);border:1px solid rgba(255,255,255,.1);color:#e0e0e0;padding:16px;font-size:15px;border-radius:12px;resize:vertical;font-family:inherit;line-height:1.6;transition:border-color .3s}
textarea:focus{outline:none;border-color:#e8d5b7;box-shadow:0 0 0 3px rgba(232,213,183,.1)}
textarea::placeholder{color:#555}
.dropzone{border:2px dashed rgba(232,213,183,.3);border-radius:12px;padding:50px 20px;text-align:center;cursor:pointer;transition:all .3s;background:rgba(15,12,41,.3)}
.dropzone:hover,.dropzone.drag{border-color:#e8d5b7;background:rgba(232,213,183,.05)}
.dropzone .icon{font-size:48px;margin-bottom:12px}
.dropzone p{color:#8a8aad;font-size:14px;margin:4px 0}
.dropzone .formats{font-size:12px;color:#555;margin-top:10px}
.file-info{display:none;align-items:center;gap:12px;padding:14px;background:rgba(76,175,80,.1);border:1px solid rgba(76,175,80,.3);border-radius:10px;margin-top:12px}
.file-info.show{display:flex}
.file-info .name{flex:1;font-size:14px;color:#c8e6c9}
.file-info .remove{background:none;border:none;color:#ef5350;cursor:pointer;font-size:18px;padding:4px 8px;width:auto;margin:0}
input[type="file"]{display:none}
.samples{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap}
.sample{padding:6px 14px;background:rgba(232,213,183,.08);border:1px solid rgba(232,213,183,.2);border-radius:20px;font-size:12px;color:#e8d5b7;cursor:pointer;transition:all .2s;white-space:nowrap}
.sample:hover{background:rgba(232,213,183,.18);transform:translateY(-1px)}
.char-count{text-align:right;font-size:12px;color:#555;margin-top:6px}
.actions{display:flex;gap:10px;margin-top:18px}
.btn{flex:1;padding:14px;border:none;border-radius:10px;font-size:15px;font-weight:700;cursor:pointer;font-family:inherit;letter-spacing:.3px;transition:all .3s}
.btn-primary{background:linear-gradient(135deg,#e8d5b7,#c9a96e);color:#1a1a2e}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(232,213,183,.25)}
.btn-primary:disabled{opacity:.5;cursor:wait;transform:none;box-shadow:none}
.btn-clear{background:rgba(255,255,255,.06);color:#aaa;flex:.4}
.btn-clear:hover{background:rgba(255,255,255,.1);color:#e0e0e0}
.out-card{background:rgba(22,33,62,.7);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:0;backdrop-filter:blur(10px);overflow:hidden}
.out-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.06);background:rgba(15,12,41,.3)}
.out-header h3{font-size:14px;color:#e8d5b7;font-weight:600}
.copy-btn{background:rgba(232,213,183,.1);border:1px solid rgba(232,213,183,.2);color:#e8d5b7;padding:5px 14px;border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s}
.copy-btn:hover{background:rgba(232,213,183,.2)}
.out{padding:20px;min-height:100px;white-space:pre-wrap;line-height:1.7;font-size:14.5px;color:#c8e6c9;max-height:500px;overflow-y:auto}
.out.empty{color:#555;font-style:italic}
.out::-webkit-scrollbar{width:6px}
.out::-webkit-scrollbar-track{background:transparent}
.out::-webkit-scrollbar-thumb{background:rgba(232,213,183,.2);border-radius:3px}
.loader{display:none;text-align:center;padding:30px}
.loader.show{display:block}
.dots span{display:inline-block;width:10px;height:10px;margin:0 4px;background:#e8d5b7;border-radius:50%;animation:bounce .6s infinite alternate}
.dots span:nth-child(2){animation-delay:.2s}
.dots span:nth-child(3){animation-delay:.4s}
@keyframes bounce{to{opacity:.3;transform:translateY(-8px)}}
.loader p{color:#8a8aad;font-size:13px;margin-top:12px}
.stats{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}
.stat{flex:1;min-width:120px;background:rgba(15,12,41,.4);border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:12px;text-align:center}
.stat .val{font-size:1.4em;font-weight:700;color:#e8d5b7}
.stat .lbl{font-size:11px;color:#666;margin-top:2px}
.footer{text-align:center;padding:20px;color:#444;font-size:12px}
@media(max-width:600px){.header h1{font-size:1.6em}.card{padding:18px}.tabs{flex-direction:column}.actions{flex-direction:column}.btn-clear{flex:1}}
</style>
</head>
<body>
<div class="header">
<h1>&#9878; Legal Document Explainer<span>Simplify complex legal documents into easy-to-understand summaries</span></h1>
<div class="badge">AI-Powered Analysis</div>
</div>
<div class="container">
<div class="card">
<div class="tabs">
<div class="tab active" onclick="switchTab(0)"><span class="tab-icon">&#9997;</span>Paste Text</div>
<div class="tab" onclick="switchTab(1)"><span class="tab-icon">&#128196;</span>Upload File</div>
</div>
<div class="panel active" id="panel0">
<textarea id="inp" placeholder="Paste your legal document, contract clause, NDA, terms of service, lease agreement, or any legal text here..."></textarea>
<div class="char-count"><span id="charcount">0</span> characters</div>
<div class="samples">
<div class="sample" onclick="loadSample(0)">&#128220; NDA Clause</div>
<div class="sample" onclick="loadSample(1)">&#128209; Liability Waiver</div>
<div class="sample" onclick="loadSample(2)">&#128203; Lease Term</div>
<div class="sample" onclick="loadSample(3)">&#128221; Indemnity Clause</div>
</div>
</div>
<div class="panel" id="panel1">
<div class="dropzone" id="dropzone" onclick="document.getElementById('fileinput').click()">
<div class="icon">&#128194;</div>
<p><strong>Drop your file here</strong> or click to browse</p>
<p>Supports .txt, .pdf, .doc, .docx files</p>
<div class="formats">Max file size: 5MB</div>
</div>
<input type="file" id="fileinput" accept=".txt,.pdf,.doc,.docx,.rtf,.text" onchange="handleFile(this)">
<div class="file-info" id="fileinfo">
<span>&#128196;</span>
<span class="name" id="filename"></span>
<button class="remove" onclick="removeFile()">&#10005;</button>
</div>
</div>
<div class="actions">
<button class="btn btn-clear" onclick="clearAll()">Clear</button>
<button class="btn btn-primary" id="btn" onclick="run()">&#9878; Simplify Document</button>
</div>
</div>
<div class="out-card">
<div class="out-header">
<h3>&#9997; Simplified Explanation</h3>
<button class="copy-btn" onclick="copyOut()">&#128203; Copy</button>
</div>
<div class="loader" id="loader">
<div class="dots"><span></span><span></span><span></span></div>
<p>Analyzing legal document...</p>
</div>
<div class="out empty" id="out">Your simplified explanation will appear here...</div>
</div>
<div class="stats" id="stats" style="display:none">
<div class="stat"><div class="val" id="s_words">-</div><div class="lbl">Words Analyzed</div></div>
<div class="stat"><div class="val" id="s_reduction">-</div><div class="lbl">Complexity Reduction</div></div>
<div class="stat"><div class="val" id="s_terms">-</div><div class="lbl">Terms Simplified</div></div>
</div>
</div>
<div class="footer">Legal Document Explainer &mdash; AI-powered legal text simplification</div>
<script>
const samples=[
"The Receiving Party agrees that it shall not, without the prior written consent of the Disclosing Party, disclose to any third party any Confidential Information, and shall use the Confidential Information solely for the purpose of evaluating the proposed business relationship between the parties hereto.",
"The participant hereby assumes all risks associated with participation in the event, including but not limited to personal injury, death, or property damage. The participant shall indemnify and hold harmless the organizers, their officers, directors, and agents from any and all claims, damages, losses, and liabilities arising out of or in connection with participation.",
"The Lessee shall not assign this lease or sublet the premises or any part thereof without the prior written consent of the Lessor. The Lessee shall maintain the premises in good condition, reasonable wear and tear excepted, and shall be liable for any damages caused by the Lessee's negligence or misuse.",
"The indemnifying party shall defend, indemnify, and hold harmless the indemnified party and its affiliates, officers, directors, employees, and agents from and against any and all third-party claims, actions, suits, proceedings, losses, damages, liabilities, costs, and expenses (including reasonable attorneys' fees) arising out of or relating to any breach of this Agreement."
];
function switchTab(i){
document.querySelectorAll('.tab').forEach((t,j)=>{t.classList.toggle('active',j===i)});
document.querySelectorAll('.panel').forEach((p,j)=>{p.classList.toggle('active',j===i)});
}
function loadSample(i){
switchTab(0);
const ta=document.getElementById('inp');ta.value=samples[i];
document.getElementById('charcount').textContent=ta.value.length;
}
document.getElementById('inp').addEventListener('input',function(){
document.getElementById('charcount').textContent=this.value.length;
});
const dz=document.getElementById('dropzone');
dz.addEventListener('dragover',e=>{e.preventDefault();dz.classList.add('drag')});
dz.addEventListener('dragleave',()=>dz.classList.remove('drag'));
dz.addEventListener('drop',e=>{e.preventDefault();dz.classList.remove('drag');if(e.dataTransfer.files.length)processFile(e.dataTransfer.files[0])});
function handleFile(el){if(el.files.length)processFile(el.files[0])}
function processFile(file){
if(file.size>5*1024*1024){alert('File too large. Max 5MB.');return}
document.getElementById('filename').textContent=file.name+' ('+Math.round(file.size/1024)+'KB)';
document.getElementById('fileinfo').classList.add('show');
const reader=new FileReader();
reader.onload=function(e){
const ta=document.getElementById('inp');
ta.value=e.target.result;
document.getElementById('charcount').textContent=ta.value.length;
switchTab(0);
};
reader.readAsText(file);
}
function removeFile(){
document.getElementById('fileinfo').classList.remove('show');
document.getElementById('fileinput').value='';
}
function clearAll(){
document.getElementById('inp').value='';
document.getElementById('charcount').textContent='0';
document.getElementById('out').className='out empty';
document.getElementById('out').textContent='Your simplified explanation will appear here...';
document.getElementById('stats').style.display='none';
removeFile();
}
function copyOut(){
const t=document.getElementById('out').textContent;
navigator.clipboard.writeText(t).then(()=>{
const b=document.querySelector('.copy-btn');b.textContent='\u2713 Copied!';
setTimeout(()=>b.textContent='\ud83d\udccb Copy',1500);
});
}
async function run(){
const b=document.getElementById('btn'),o=document.getElementById('out'),t=document.getElementById('inp').value,l=document.getElementById('loader');
b.disabled=true;b.innerHTML='&#9878; Analyzing...';
o.className='out empty';o.textContent='';
l.classList.add('show');
document.getElementById('stats').style.display='none';
try{
const r=await fetch('/solve',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:t})});
const j=await r.json();
l.classList.remove('show');
o.className='out';o.textContent=j.output;
const words=t.trim().split(/\s+/).filter(w=>w).length;
const outWords=j.output.trim().split(/\s+/).filter(w=>w).length;
const terms=(j.output.match(/•/g)||[]).length;
document.getElementById('s_words').textContent=words;
document.getElementById('s_reduction').textContent=words>0?Math.round((1-outWords/Math.max(words,1))*100)+'%':'—';
document.getElementById('s_terms').textContent=terms||'—';
document.getElementById('stats').style.display='flex';
}catch(e){l.classList.remove('show');o.className='out';o.textContent='Error: '+e.message;}
b.disabled=false;b.innerHTML='&#9878; Simplify Document';
}
</script>
</body>
</html>
